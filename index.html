<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setup app tỏ tình</title>
</head>
<body>
    <style>
        .input{
            width: 90%;
            margin: auto;
            margin-bottom: 80px;
        }
        textarea{
            width: 100%;
            outline: none;
            font-size: 15px;
            resize: none;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 20px;
            border: 1px solid rgb(204, 204, 204);
        }
        button{
            border: none;
            background-color: blueviolet;
            color: white;
            padding: 5px 20px;
            font-size: 25px;
            font-family: 'Courier New', Courier, monospace;
            font-weight: bold;
            border-radius: 10px;
            position: absolute;
            left: 50%;
            transform: translate(-50%,0%);
        }
        p{
            font-size: 18px;
        }
        textarea:hover{
            transition: all 0.25s;
            transform: scale(1.01);
        }
    </style>
    <div class="input">

        <textarea id="content" rows="10" placeholder="Nhập nội dung tỏ tình xuống dòng bình thường"></textarea><br>
        <textarea id="end" rows="10" placeholder="Nhập chữ ký vd: yêu em nhiều <3"></textarea><br>
        <textarea id="date" rows="10" placeholder="Nhập ngày quen nhau vd: 15/02/2020"></textarea><br>
        <textarea id="linkfb" rows="10" placeholder="Nhập link FB"></textarea><br>
        <textarea id="namefb" rows="10" placeholder="Nhập tên FB"></textarea><br>
        <textarea id="textLogo" rows="10" placeholder="Nhập nội dung logo vd: Come Baby"></textarea><br>
        <textarea id="textTime1" rows="10" placeholder="Nhập nội dung thời gian 1 vd: Anh <3 Em"></textarea><br>
        <textarea id="textTime2" rows="10" placeholder="Nhập nội dung thời gian 2 vd: Time of love..."></textarea><br>
        <p>Chọn nhạc nền:</p>
        <select id="selectMusic">
            <option value="0" selected="selected">I Do 911</option>
            <option value="1">Thương em đến già</option>
            <option value="2">Yêu em rất nhiều</option>
            <option value="3">Yêu là cưới</option>
            <option value="4">Ngày đầu tiên</option>
        </select>
        <button onclick="createLink()">Tạo Link</button>
    </div>
    
    <script>
        function b64EncodeUnicode(str) {
            return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function(match, p1) {
                return String.fromCharCode('0x' + p1);
            }));
        }
        function $(id){
            return document.getElementById(id).value;
        }
        function createLink(){
            var content = $("content");
            var content = content.split("\n");
            var content = content.join('|');
            var end = $("end");
            var date = $("date");
            var linkfb = $("linkfb");
            var namefb = $("namefb");
            var textTime1= $("textTime1");
            var textTime2 = $("textTime2");
            var textLogo = $("textLogo");
            var music = $("selectMusic");
            console.log(music)
            if (content != "" && end!="" && date != "" && linkfb!="" && namefb !=""){
                // var link = "application.html?";
                var link = location.pathname+"application.html?";
                link += b64EncodeUnicode("linkfb="+linkfb+"&namefb="+namefb+"&date="+date+"&content="+content+"&end="+end+"&texttime1="+textTime1+"&texttime2="+textTime2+"&textlogo="+textLogo+"&music="+music);
                document.body.innerHTML = 'Link của bạn đã được tạo thành công: <a href="'+link+'">Nhấn vào đây để truy cập link</a>';
            }
            else alert("Chưa nhập đủ thông tin!");
        }
    </script>
</body>
</html>